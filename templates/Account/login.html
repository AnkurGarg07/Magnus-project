{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{%static 'login.css'%}" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script src="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/alertify.min.js"></script>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/css/alertify.min.css"/>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/css/themes/default.min.css"/>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/css/themes/semantic.min.css"/>
    <title>Document</title>
  </head>
  <body class="login-page">
    <div class="login-box">
      <div class="login-logo">
        <a href="#"><b>JALA Academy</b></a>
        <h4 style="font-size: 18px">Use the below details to login</h4>
        <h5 style="font-size: 14px">Email : training@jalaacademy.com</h5>
        <h5 style="font-size: 14px">Password : jobprogram</h5>
        <h5 style="background-color: Yellow; font-size: 14px">
          <b> Learn everything on Real-Time Scenarios. FREE for all.</b>
        </h5>
      </div>
      <!-- /.login-logo -->
      <div class="login-box-body">
        <p class="login-box-msg">Sign in</p>
        <form id="frmLogin" method="post"  action="{% url 'login' %}">
          {% csrf_token %}
          <!-- Alert Box -->
          <div class="form-group has-feedback">
            <input
              class="form-control"
              data-val="true"
              data-val-required="Please enter email or mobile no."
              id="UserName"
              name="UserName"
              placeholder="Email or Mobile No"
              type="text"
              value=""
            />
            <span
              class="glyphicon glyphicon-envelope form-control-feedback"
            ></span>
          </div>
          <div class="form-group has-feedback">
            <input
              class="form-control"
              data-val="true"
              data-val-required="Please enter password."
              id="Password"
              name="Password"
              placeholder="Password"
              type="password"
              value=""
            />
            <span class="glyphicon glyphicon-lock form-control-feedback"></span>
          </div>
          <div class="loginRow">
            <div>
              <label class="container1" for="RememberMe">
                Remember Me
                <input
                  id="RememberMe"
                  name="RememberMe"
                  type="checkbox"
                  value="true"
                />
              </label>
            </div>
            <!-- /.col -->
            <div>
              <button
                type="submit"
                class="btn btn-primary btn-flat"
                id="btnLogin"
              >
                Sign In
              </button>
            </div>
            <!-- /.col -->
          </div>
        </form>
        <div class="social-auth-links text-center">
          <p>- OR -</p>
          <a href="{% url "password_reset" %}" class="text-center forgotbtn">
            Forgot Password
          </a>
          <a href="/Account/AdminLogin" class="text-center mt-3">Admin Login</a>
        </div>
      </div>
      <!-- /.login-box-body -->
    </div>

    <div style='margin:0px 20px'>
      <div class='box' >
        <div class="box-body">
          <p>
            JALA Academy offers Job Guaranteed Programs for Freshers to 12
            years' experience on Full Stack Development / Automation Testing /
            Dev-Ops / QA/ SDET/Cyber Security / RPA / Cloud Technologies.
            Training would be completely on live Project scenarios Read our
            website JALA Academy for more details :
            <a
              href="http://jalatechnologies.com/contact-us.html"
              class="text-white"
              target="_blank"
              >https://jalaacademy.com/</a
            >
          </p>
        </div>
      </div>
    </div>
    <script>
      function saveCredentials() {
        const username = document.getElementById('UserName').value;
        const password = document.getElementById('Password').value;
        const rememberMe = document.getElementById('RememberMe').checked;
        if (rememberMe) {
            localStorage.setItem('username', username);
            localStorage.setItem('password', password);
            localStorage.setItem('rememberMe', rememberMe);
        } else {
            localStorage.removeItem('username');
            localStorage.removeItem('password');
            localStorage.removeItem('rememberMe');
        }
    }

    // Function to retrieve credentials from local storage
    function checkSavedCredentials() {
      const rememberMe = localStorage.getItem('rememberMe') === 'true';
      if (rememberMe) {
          if (confirm("We have found saved credentials. Do you want to fill the login form with saved credentials?")) {
              document.getElementById('UserName').value = localStorage.getItem('username');
              document.getElementById('Password').value = localStorage.getItem('password');
          }
      }
  }


    // Call getCredentials on page load
    window.onload = checkSavedCredentials;

    // Save credentials on form submit
    document.getElementById('frmLogin').onsubmit = function() {
      const rememberMe = document.getElementById('RememberMe').checked;
      saveCredentials(document.getElementById('UserName').value, document.getElementById('Password').value, rememberMe);
  };
          {% for message in messages %}
          alertify.set('notifier','position', 'top-right');
          alertify.{{ message.tags }}('{{ message }}');
      
      {% endfor %}
      </script>
    
  </body>
</html>
